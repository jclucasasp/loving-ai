import{u as b,r as T,g as E,N as L,j as e,C as P,a as A,b as I,d as R,B as V,V as f,T as m,W as B}from"./index-B3mHd3VY.js";import{S as y,a as w,b as N,c as v,d as h}from"./select-CaWYgpqa.js";import{u as M,F as U,a as t,b as n,f as o,c as l,I as d,d as i,t as D}from"./input-BpVnyDhR.js";import{T as H}from"./index-DgQlkGOK.js";import{L as k}from"./loader-circle-CbjjgNm6.js";import"./Combination-BkWn4aC4.js";import"./component-CcfUj0xD.js";function O(){const C=b(),[p,u]=T.useState(!1),{personalityTypes:F}=E().state,{toast:j}=L(),r=M({resolver:D(f),defaultValues:{firstName:"",lastName:"",email:"",password:"",otp:"",confirm:"",age:0,ethnicity:"",bio:"",image:"",imageUrl:"",gender:"",myersBriggsPersonalityType:""}}),S=async s=>{const c=f.safeParse(s);if(!c.success){j({title:"Validation failed.",description:c.error.message,variant:"destructive",action:e.jsx(m,{altText:"Retry",children:"Retry"})});return}u(!0);let x=new FormData;for(let a in s)x.append(a,s[a]);await B(x).then(a=>{if(a&&a.status>=400&&a.status<500){j({variant:"destructive",description:"Email already taken. Please try again.",action:e.jsx(m,{altText:"Retry",children:"Retry"})});return}a&&a.status>=500&&j({variant:"destructive",description:"Something went wrong. Please try again.",action:e.jsx(m,{altText:"Retry",children:"Retry"})}),u(!1),C("/login",{state:{email:c.data.email,password:c.data.password}})})};return e.jsx("section",{className:"flex flex-col justify-center items-center",children:e.jsxs(P,{children:[e.jsxs(A,{className:"text-center text-2xl",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("img",{src:"/heart.png",alt:"heart with arrow through it",height:80,width:80})}),e.jsx(I,{className:"text-[#FF0066]",children:"Lets Get Started"})]}),e.jsx(R,{children:e.jsx(U,{...r,children:e.jsxs("form",{className:"flex flex-col",onSubmit:r.handleSubmit(S),children:[e.jsx(t,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"First Name"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"John",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Last Name"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"Doe",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Email"}),e.jsx(l,{children:e.jsx(d,{type:"email",placeholder:"nonAlien@defHuman.com",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"password",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Password"}),e.jsx(l,{children:e.jsx(d,{type:"password",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"confirm",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Confirm Password"}),e.jsx(l,{children:e.jsx(d,{type:"password",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"otp",render:({field:s})=>e.jsxs(n,{hidden:!0,children:[e.jsx(l,{children:e.jsx(d,{type:"text",...s,value:s.value})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"age",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Age"}),e.jsx(l,{children:e.jsx(d,{type:"number",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"ethnicity",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Ethnicity"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"Hopefully not alien",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"bio",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Bio"}),e.jsx(l,{children:e.jsx(H,{rows:5,placeholder:"I am definitely not an alien",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"image",render:({field:{value:s,onChange:c,...x}})=>e.jsxs(n,{children:[e.jsx(o,{children:"Image"}),e.jsx(l,{children:e.jsx(d,{type:"file",...x,accept:"image/jpeg, image/jpg",onChange:a=>{var g;return c((g=a.target.files)==null?void 0:g[0])}})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"imageUrl",render:({field:s})=>e.jsxs(n,{hidden:!0,children:[e.jsx(o,{children:"Image Url"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"image url",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"gender",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Gender"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(l,{children:e.jsx(w,{className:"w-full",children:e.jsx(N,{placeholder:"..."})})}),e.jsxs(v,{children:[e.jsx(h,{value:"MALE",children:"MALE"}),e.jsx(h,{value:"FEMALE",children:"FEMALE"})]}),e.jsx(i,{})]})]})}),e.jsx(t,{control:r.control,name:"myersBriggsPersonalityType",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Your Myers Briggs Personality Type"}),e.jsxs(y,{onValueChange:s.onChange,children:[e.jsx(l,{children:e.jsx(w,{className:"w-full",children:e.jsx(N,{placeholder:"..."})})}),e.jsxs(v,{children:[F.map(c=>e.jsx(h,{value:c.id,children:c.type},c.id)),"  "]}),e.jsx(i,{})]})]})}),e.jsxs(V,{disabled:p,variant:"secondary",type:"submit",className:"mt-6 rounded-full w-full",children:[p&&e.jsx("span",{children:e.jsx(k,{className:"mr-2 h-4 w-4 animate-spin"})}),"Submit"]})]})})})]})})}export{O as default};
