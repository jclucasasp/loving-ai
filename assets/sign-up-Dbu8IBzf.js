import{u as T,r as S,f as E,a9 as L,j as e,C as A,a as P,b as R,d as B,B as I,ae as f,T as h}from"./index-BuDA6XIp.js";import{S as y,a as w,b as v,c as C,d as u}from"./select-BCCKgQU1.js";import{u as M,F as U,a as t,b as n,c as o,d as l,e as i,t as V}from"./zod-DLTvrkLF.js";import{C as k}from"./user-auth-api-CfsWbmiN.js";import{T as D}from"./index-B8CXBjXJ.js";import{I as d}from"./input-Ddwp0ARj.js";import{L as G}from"./loader-circle-CJry75i0.js";import"./Combination-D_Kbr3QC.js";import"./component-C1IRUy3y.js";function X(){const N=T(),[p,j]=S.useState(!1),{personalityTypes:b}=E().state,{toast:m}=L(),r=M({resolver:V(f),defaultValues:{firstName:"",lastName:"",email:"",password:"",otp:"",confirm:"",age:0,ethnicity:"",bio:"",image:"",imageUrl:"",gender:"",myersBriggsPersonalityType:""}}),F=async s=>{const c=f.safeParse(s);if(!c.success){m({title:"Validation failed.",description:c.error.message,variant:"destructive",action:e.jsx(h,{altText:"Retry",children:"Retry"})});return}j(!0);const x=new FormData;for(const a in s)x.append(a,s[a]);await k(x).then(a=>{if(a&&a.status>=400&&a.status<500){m({variant:"destructive",description:"Email already taken. Please try again.",action:e.jsx(h,{altText:"Retry",children:"Retry"})}),j(!1);return}if(!a||a.status>=500){m({variant:"destructive",description:"Something went wrong. Please try again.",action:e.jsx(h,{altText:"Retry",children:"Retry"})}),j(!1);return}j(!1),N("/login",{state:{email:c.data.email,password:c.data.password}})})};return e.jsx("section",{className:"flex flex-col justify-center items-center",children:e.jsxs(A,{className:"sm:w-[535px] md:w-[635px] lg:w-[735px]",children:[e.jsxs(P,{className:"text-center text-2xl",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("img",{src:"/heart.png",alt:"heart with arrow through it",height:80,width:80})}),e.jsx(R,{className:"text-[#FF0066] drop-shadow-md",children:"Lets Get Started"})]}),e.jsx(B,{children:e.jsx(U,{...r,children:e.jsxs("form",{className:"flex flex-col",onSubmit:r.handleSubmit(F),children:[e.jsx(t,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"First Name"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"John",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Last Name"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"Doe",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Email"}),e.jsx(l,{children:e.jsx(d,{type:"email",placeholder:"nonAlien@defHuman.com",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"password",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Password"}),e.jsx(l,{children:e.jsx(d,{type:"password",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"confirm",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Confirm Password"}),e.jsx(l,{children:e.jsx(d,{type:"password",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"otp",render:({field:s})=>e.jsxs(n,{hidden:!0,children:[e.jsx(l,{children:e.jsx(d,{type:"text",...s,value:s.value})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"age",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Age"}),e.jsx(l,{children:e.jsx(d,{type:"number",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"ethnicity",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Ethnicity"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"e.g., Asian, Caucasian, or whatever makes you unique!",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"bio",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Bio"}),e.jsx(l,{children:e.jsx(D,{rows:5,placeholder:"Tell us about yourselfâ€”hobbies, dreams, or fun facts",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"image",render:({field:{value:s,onChange:c,...x}})=>e.jsxs(n,{children:[e.jsx(o,{children:"Image"}),e.jsx(l,{children:e.jsx(d,{type:"file",...x,accept:"image/jpeg, image/jpg",onChange:a=>{var g;return c((g=a.target.files)==null?void 0:g[0])}})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"imageUrl",render:({field:s})=>e.jsxs(n,{hidden:!0,children:[e.jsx(o,{children:"Image Url"}),e.jsx(l,{children:e.jsx(d,{type:"text",placeholder:"image url",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"gender",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Gender"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(l,{children:e.jsx(w,{className:"w-full",children:e.jsx(v,{placeholder:"..."})})}),e.jsxs(C,{children:[e.jsx(u,{value:"MALE",children:"MALE"}),e.jsx(u,{value:"FEMALE",children:"FEMALE"})]}),e.jsx(i,{})]})]})}),e.jsx(t,{control:r.control,name:"myersBriggsPersonalityType",render:({field:s})=>e.jsxs(n,{children:[e.jsx(o,{children:"Your Myers Briggs Personality Type"}),e.jsxs(y,{onValueChange:s.onChange,children:[e.jsx(l,{children:e.jsx(w,{className:"w-full",children:e.jsx(v,{placeholder:"..."})})}),e.jsxs(C,{children:[b.map(c=>e.jsx(u,{value:c.type,children:c.type},c.id))," "]}),e.jsx(i,{})]})]})}),e.jsxs(I,{disabled:p,variant:"special",type:"submit",className:"mt-6 rounded-full w-full",children:[p&&e.jsx("span",{children:e.jsx(G,{className:"mr-2 h-4 w-4 animate-spin"})}),"Create Account"]})]})})})]})})}export{X as default};
