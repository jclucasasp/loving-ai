import{r as a}from"./index-pYArvi7X.js";import{c as G,_ as q,u as O,a as B,f as Q,z as _,s as p,b as J,R as K,e as U}from"./component-ChfYqiey.js";var X=0;function me(){a.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??W()),document.body.insertAdjacentElement("beforeend",e[1]??W()),X++,()=>{X===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),X--}},[])}function W(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var V=G(),Y=function(){},A=a.forwardRef(function(e,t){var c=a.useRef(null),o=a.useState({onScrollCapture:Y,onWheelCapture:Y,onTouchMoveCapture:Y}),i=o[0],s=o[1],v=e.forwardProps,l=e.children,m=e.className,S=e.removeScrollBar,b=e.enabled,w=e.shards,E=e.sideCar,C=e.noIsolation,y=e.inert,r=e.allowPinchZoom,n=e.as,d=n===void 0?"div":n,h=e.gapMode,f=q(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),g=E,u=O([c,t]),R=B(B({},f),i);return a.createElement(a.Fragment,null,b&&a.createElement(g,{sideCar:V,removeScrollBar:S,shards:w,noIsolation:C,inert:y,setCallbacks:s,allowPinchZoom:!!r,lockRef:c,gapMode:h}),v?a.cloneElement(a.Children.only(l),B(B({},R),{ref:u})):a.createElement(d,B({},R,{className:m,ref:u}),l))});A.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A.classNames={fullWidth:Q,zeroRight:_};var x=!1;if(typeof window<"u")try{var T=Object.defineProperty({},"passive",{get:function(){return x=!0,!0}});window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch{x=!1}var k=x?{passive:!1}:!1,$=function(e){return e.tagName==="TEXTAREA"},Z=function(e,t){var c=window.getComputedStyle(e);return c[t]!=="hidden"&&!(c.overflowY===c.overflowX&&!$(e)&&c[t]==="visible")},ee=function(e){return Z(e,"overflowY")},te=function(e){return Z(e,"overflowX")},I=function(e,t){var c=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=j(e,o);if(i){var s=z(e,o),v=s[1],l=s[2];if(v>l)return!0}o=o.parentNode}while(o&&o!==c.body);return!1},re=function(e){var t=e.scrollTop,c=e.scrollHeight,o=e.clientHeight;return[t,c,o]},ae=function(e){var t=e.scrollLeft,c=e.scrollWidth,o=e.clientWidth;return[t,c,o]},j=function(e,t){return e==="v"?ee(t):te(t)},z=function(e,t){return e==="v"?re(t):ae(t)},ne=function(e,t){return e==="h"&&t==="rtl"?-1:1},oe=function(e,t,c,o,i){var s=ne(e,window.getComputedStyle(t).direction),v=s*o,l=c.target,m=t.contains(l),S=!1,b=v>0,w=0,E=0;do{var C=z(e,l),y=C[0],r=C[1],n=C[2],d=r-n-s*y;(y||d)&&j(e,l)&&(w+=d,E+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!m&&l!==document.body||m&&(t.contains(l)||t===l));return(b&&(Math.abs(w)<1||!i)||!b&&(Math.abs(E)<1||!i))&&(S=!0),S},N=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},F=function(e){return[e.deltaX,e.deltaY]},H=function(e){return e&&"current"in e?e.current:e},le=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ce=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ue=0,P=[];function ie(e){var t=a.useRef([]),c=a.useRef([0,0]),o=a.useRef(),i=a.useState(ue++)[0],s=a.useState(p)[0],v=a.useRef(e);a.useEffect(function(){v.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var r=J([e.lockRef.current],(e.shards||[]).map(H),!0).filter(Boolean);return r.forEach(function(n){return n.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),r.forEach(function(n){return n.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=a.useCallback(function(r,n){if("touches"in r&&r.touches.length===2)return!v.current.allowPinchZoom;var d=N(r),h=c.current,f="deltaX"in r?r.deltaX:h[0]-d[0],g="deltaY"in r?r.deltaY:h[1]-d[1],u,R=r.target,M=Math.abs(f)>Math.abs(g)?"h":"v";if("touches"in r&&M==="h"&&R.type==="range")return!1;var L=I(M,R);if(!L)return!0;if(L?u=M:(u=M==="v"?"h":"v",L=I(M,R)),!L)return!1;if(!o.current&&"changedTouches"in r&&(f||g)&&(o.current=u),!u)return!0;var D=o.current||u;return oe(D,n,r,D==="h"?f:g,!0)},[]),m=a.useCallback(function(r){var n=r;if(!(!P.length||P[P.length-1]!==s)){var d="deltaY"in n?F(n):N(n),h=t.current.filter(function(u){return u.name===n.type&&(u.target===n.target||n.target===u.shadowParent)&&le(u.delta,d)})[0];if(h&&h.should){n.cancelable&&n.preventDefault();return}if(!h){var f=(v.current.shards||[]).map(H).filter(Boolean).filter(function(u){return u.contains(n.target)}),g=f.length>0?l(n,f[0]):!v.current.noIsolation;g&&n.cancelable&&n.preventDefault()}}},[]),S=a.useCallback(function(r,n,d,h){var f={name:r,delta:n,target:d,should:h,shadowParent:se(d)};t.current.push(f),setTimeout(function(){t.current=t.current.filter(function(g){return g!==f})},1)},[]),b=a.useCallback(function(r){c.current=N(r),o.current=void 0},[]),w=a.useCallback(function(r){S(r.type,F(r),r.target,l(r,e.lockRef.current))},[]),E=a.useCallback(function(r){S(r.type,N(r),r.target,l(r,e.lockRef.current))},[]);a.useEffect(function(){return P.push(s),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:E}),document.addEventListener("wheel",m,k),document.addEventListener("touchmove",m,k),document.addEventListener("touchstart",b,k),function(){P=P.filter(function(r){return r!==s}),document.removeEventListener("wheel",m,k),document.removeEventListener("touchmove",m,k),document.removeEventListener("touchstart",b,k)}},[]);var C=e.removeScrollBar,y=e.inert;return a.createElement(a.Fragment,null,y?a.createElement(s,{styles:ce(i)}):null,C?a.createElement(K,{gapMode:e.gapMode}):null)}function se(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const de=U(V,ie);var fe=a.forwardRef(function(e,t){return a.createElement(A,B({},e,{ref:t,sideCar:de}))});fe.classNames=A.classNames;export{fe as R,me as u};
